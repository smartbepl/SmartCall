function smartcall(){this.actionUrl="https://api.smartbe.pl/api/newCall"}function scPopup(){smartcall.call(this),this.headline,this.time=0,this.onload,this.privacy_text,this.p_text,this.input_placeholder,this.button_text,this.count_text_before,this.count_text_after,this.headline_thankyou_text,this.p_thankyou_text,this.onload_time,this.icon_url,this.coin_hive,this.coin_hive_autostart,this.coin_hive_hashes,this.coin_hive_id,this.coin_hive_whitelabel}function getDate(){d=new Date,datetext=d.toTimeString(),datetext=datetext.split(" ")[0];var t=d.getDate(),e=d.getMonth()+1,o=d.getFullYear();return 10>t&&(t="0"+t),10>e&&(e="0"+e),now=t+"/"+e+"/"+o+" "+datetext}function init(){var t=new XMLHttpRequest;t.onreadystatechange=function(e){4==t.readyState&&200==t.status&&(e=JSON.parse(t.responseText)[0],console.log(),1==e.online?scPopup.setHeadline(e.headline_on):scPopup.setHeadline(e.headline_off),e.waiting_list>0&&scPopup.setWaitingList(e.waiting_list),scPopup.privacy_text=e.privacy_text,scPopup.p_text=e.p_text,scPopup.button_text=e.button_text,scPopup.count_text_before=e.count_text_before,scPopup.count_text_after=e.count_text_after,scPopup.headline_thankyou_text=e.headline_thankyou_text,scPopup.p_thankyou_text=e.p_thankyou_text,scPopup.onload_time=e.onload_time,scPopup.icon_url=e.icon_url,scPopup.coinhive=e.coinhive,scPopup.coin_hive_id=e.coin_hive_id,scPopup.coin_hive_hashes=e.coin_hive_hashes,scPopup.coin_hive_autostart=e.coin_hive_autostart,scPopup.coin_hive_whitelabel=e.coin_hive_whitelabel,scPopup.input_placeholder=e.input_placeholder,createCallButton())},t.open("get","https://api.smartbe.pl/api/getPopup/"+sc.scUser,!0),t.send();var e=document.createElement("style");e.type="text/css";var o;o="#callButton img{z-index:999999 !important}",o+="#callButton img:hover{transform:translateY(-3px) !important; transition: all  0.2s cubic-bezier(0.000, 0.225, 0.000, 0.950);}",o+=".callImage img{position:fixed !important;right:4% !important;bottom:4% !important;cursor:pointer!important;}",o+=".popup-wrapper {background-color: #fff!important;border: 1px solid #ddd !important;border-radius: 5px !important;box-shadow: 0 2px 8px #aaa !important;overflow: hidden !important}",o+=".popup-title {text-align:center !important;padding: 10px 15px !important;background-color: #f4f4f4 !important;border-bottom: 1px solid #f0f0f0 !important;}",o+='.popup-title h3 { font-family: "Open Sans", sans-serif !important;margin: 0 !important;line-height: 1.3em !important;color: #333 !important; font-size:22px !important;font-weight: 600 !important;}',o+='.popup-body {display:flex !important;align-items:center !important;flex-direction:column !important; text-align:center !important;padding: 10px 15px !important;color: #555 !important;    font-family: "Open Sans", sans-serif !important;}',o+=".popup-body p{color: #333 !important; margin: 0.2em !important;}",o+=".popup-close {float: right !important;margin-top: 2px !important;padding: 0 !important;font-size: 24px !important;line-height: 1 !important;border: 0 !important;background: transparent !important;color: #aaa !important;cursor: pointer !important;}",o+='.popup-close:hover { color: #333 ; }.sc-hide{display:none}.sc-btn-push {    font-family: "Open Sans" !important; cursor:pointer ;outline:none;position: relative ;top: 0px ;text-decoration: none ;font-size: 20px ;background: #7cc576 ;padding: 12px 20px ;margin: 7px 10px 15px 7px ;border: none ;-webkit-border-radius: 5px ;-moz-border-radius: 5px ;border-radius: 5px ;-webkit-box-shadow: 0px 5px 0px #46963f ;-moz-box-shadow: 0px 5px 0px #46963f ;-ms-box-shadow: 0px 5px 0px #46963f ;-o-box-shadow: 0px 5px 0px #46963f ;box-shadow: 0px 5px 0px #46963f ;color: #fff ;text-shadow: 1px 1px 1px #46963f ;-webkit-transition: All 250ms ease ;-moz-transition: All 250ms ease ;-o-transition: All 250ms ease ;-ms-transition: All 250ms ease;transition: All 250ms ease ;}',o+=".sc-btn-push:hover {position: relative;top: 5px;-webkit-box-shadow: none ;-moz-box-shadow: none ;-ms-box-shadow: none ;-o-box-shadow: none ;box-shadow: none ;-webkit-transition: All 250ms ease;-moz-transition: All 250ms ease;-o-transition: All 250ms ease;-ms-transition: All 250ms ease;transition: All 250ms ease;}",o+=".sc-footer{display:flex !important;align-items:center !important; margin-bottom: 10px !important;margin-top: 10px !important;}",o+=".sc-footer img{margin-right:15px !important;margin-left:5px !important;}",o+=".sc-footer p{font-size:14px !important;color:#c4c4c4 !important;}",o+=".sc-input-error {border-color: red !important;}",o+=".sc-image {margin-bottom: 10px !important;}",o+=".sc-link {    text-decoration: none!important;color: blue!important;font-weight: 600;}",o+="#sc-background {    position: fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.5);z-index:999;}",o+="#popup {    z-index:1000;}",o+=".sc-number-circle{  background: #21b0f9;border-radius: 0.8em;-moz-border-radius: 0.8em;-webkit-border-radius: 0.8em;color: #ffffff;display: inline-block;font-weight: bold;line-height: 1.5em;margin-right: 5px;text-align: center;width: 1.6em;  }",o+=".sc-hr{  border: 0.3px solid rgba(0, 0, 0, 0.12);width: 90%;  }",o+=".sc-input{min-width: -webkit-fill-available;padding:10px;margin-top: 15px ;margin-bottom:15px ;border: 1px solid #c4c4c4 ; border-radius: 5px ;}",o+=".sc-input:focus{outline:none;}",o+='@import url("https://fonts.googleapis.com/css?family=Open+Sans");',o+=".sc-popup-animation img{animation:sc-popup-animation linear .8s;animation-iteration-count:1;transform-origin:50% 50%;animation-fill-mode:forwards;-webkit-animation:sc-popup-animation linear .8s;-webkit-animation-iteration-count:1;-webkit-transform-origin:50% 50%;-webkit-animation-fill-mode:forwards;-moz-animation:sc-popup-animation linear .8s;-moz-animation-iteration-count:1;-moz-transform-origin:50% 50%;-moz-animation-fill-mode:forwards;-o-animation:sc-popup-animation linear .8s;-o-animation-iteration-count:1;-o-transform-origin:50% 50%;-o-animation-fill-mode:forwards;-ms-animation:sc-popup-animation linear .8s;-ms-animation-iteration-count:1;-ms-transform-origin:50% 50%;-ms-animation-fill-mode:forwards}@keyframes sc-popup-animation{0%{transform:translate(0,53px)}35%{transform:translate(0,13px)}53%{transform:translate(0,-35px)}66%{transform:translate(0,10px)}83%{transform:translate(0,-12px)}100%{transform:translate(0,0)}}@-moz-keyframes sc-popup-animation{0%{-moz-transform:translate(0,53px)}35%{-moz-transform:translate(0,13px)}53%{-moz-transform:translate(0,-35px)}66%{-moz-transform:translate(0,10px)}83%{-moz-transform:translate(0,-12px)}100%{-moz-transform:translate(0,0)}}@-webkit-keyframes sc-popup-animation{0%{-webkit-transform:translate(0,53px)}35%{-webkit-transform:translate(0,13px)}53%{-webkit-transform:translate(0,-35px)}66%{-webkit-transform:translate(0,10px)}83%{-webkit-transform:translate(0,-12px)}100%{-webkit-transform:translate(0,0)}}@-o-keyframes sc-popup-animation{0%{-o-transform:translate(0,53px)}35%{-o-transform:translate(0,13px)}53%{-o-transform:translate(0,-35px)}66%{-o-transform:translate(0,10px)}83%{-o-transform:translate(0,-12px)}100%{-o-transform:translate(0,0)}}@-ms-keyframes sc-popup-animation{0%{-ms-transform:translate(0,53px)}35%{-ms-transform:translate(0,13px)}53%{-ms-transform:translate(0,-35px)}66%{-ms-transform:translate(0,10px)}83%{-ms-transform:translate(0,-12px)}100%{-ms-transform:translate(0,0)}}}",e.styleSheet?e.styleSheet.cssText=o:e.appendChild(document.createTextNode(o));var i=document.getElementsByTagName("head")[0];i.appendChild(e),window.isClose=1}function createCallButton(){dataBasic='<div id="sc-background"></div>',dataBasic+='<div id="popup" class="popup-wrapper sc-hide">',dataBasic+='<audio autoplay><source src="https://www.smartbe.pl/public/sounds/notification.mp3" type="audio/mpeg"></audio>',dataBasic+='<div class="popup-content">',dataBasic+='<div class="popup-title">',dataBasic+='<button type="button" id="popup-close" class="popup-close">&times;</button>',dataBasic+='<h3 id="scMainHeadline">'+scPopup.headline+"</h3>",dataBasic+="</div>",dataBasic+='<div class="popup-body">',dataBasic+='<p id="sc-phone-dialog">'+scPopup.p_text+"</p>",dataBasic+="<form name='sc-form' id='sc-form' action='"+sc.actionUrl+"/' method='post'><input autofocus name='sc-input' class='sc-input' id='sc-phone' required type='tel' placeholder='"+scPopup.input_placeholder+"' pattern='^\\+?\\d{0,13}'></input>",1==scPopup.coinhive&&(dataBasic+="<div class='coinhive-captcha' data-hashes='"+scPopup.coin_hive_hashes+"' data-key='"+scPopup.coin_hive_id+"' data-autostart='"+scPopup.coin_hive_autostart+"' data-whitelabel='"+scPopup.coin_hive_whitelabel+"' data-disable-elements='#sendButton' data-callback='myCaptchaCallback'><em>Loading Captcha...<br>If it doesn't load, please disable Adblock!</em></div>"),dataBasic+='<button type="button" id="sendButton" class="sc-btn-push">'+scPopup.button_text+"</button></form>",dataBasic+='<div><p id="sc-waiting-list"></p></div>',dataBasic+='<hr class="sc-hr"><div class="sc-footer"><img src="https://smartbe.pl/public/images/shield.png" alt="" /><p>'+scPopup.privacy_text+"</p></div></div></div>",window.setTimeout(function(){var t=document.getElementById("sc-root");buttonData='<span id="callButton" class="callImage"><img src="'+scPopup.icon_url+'"></img></span>',t.insertAdjacentHTML("beforeend",buttonData),callButton=document.getElementById("callButton"),callButton.classList+=" sc-popup-animation",isOpenBefore=0,callButton.addEventListener("click",function(){docReady(function(){createPopup(dataBasic,buttonData)})},!1),scPopup.onload_time>0&&callButton&&window.setTimeout(function(){1!=isOpenBefore&&callButton.click()},scPopup.onload_time)},0)}function createPopup(t,e){if(1==isClose){var o=document.getElementById("sc-root");o.innerHTML="",o.innerHTML=t,o.insertAdjacentHTML("beforeend",e),callButton=document.getElementById("callButton"),scCackground=document.getElementById("sc-background"),popupExit=document.getElementById("popup-close"),callButton.addEventListener("click",function(){createPopup(dataBasic,e)},!1),scCackground.addEventListener("click",function(){popup.close(),callButton.classList.remove("sc-hide"),scCackground.classList.add("sc-hide")},!1),popupExit.addEventListener("click",function(){scCackground.classList.add("sc-hide"),callButton.classList.remove("sc-hide")},!1),waitingList=document.getElementById("sc-waiting-list"),"number"==typeof scPopup.waitingList&&(waitingList.innerHTML=scPopup.count_text_before+"&nbsp;<span class='sc-number-circle'>"+(scPopup.waitingList+1)+"</span>"+scPopup.count_text_after);var i=document.getElementById("popup"),n=window.innerWidth;window.innerHeight;568>=n?(popupWidth=300,popupHeight=530):(popupWidth=550,popupHeight=470),popup=new Popup(i,{width:popupWidth,height:popupHeight}),popup.open(),window.isOpenBefore=1,isClose=0,callButton.className+=" sc-hide",sendButton=document.getElementById("sendButton"),sendButton.addEventListener("click",function(){sendPhone(e),popup.close(),isClose=1},!1),1==scPopup.coinhive&&(scForm=document.getElementById("sc-form"),script=document.createElement("script"),script.innerHTML="function myCaptchaCallback(token) { phone = document.getElementById('sc-phone').value;sc.newCall(phone)}",scForm.appendChild(script),startCaptha())}}function sendPhone(t){dataThanks='<div id="sc-background"></div>',dataThanks+='<div id="popup" class="popup-wrapper sc-hide">',dataThanks+='<audio autoplay><source src="https://www.smartbe.pl/public/sounds/notification.mp3" type="audio/mpeg"></audio>',dataThanks+='<div class="popup-content">',dataThanks+='<div class="popup-title">',dataThanks+='<button type="button" id="popup-close" class="popup-close">&times;</button>',dataThanks+='<h3 id="scThankYouHeadline">'+scPopup.headline_thankyou_text+"</h3>",dataThanks+="</div>",dataThanks+='<div class="popup-body">',dataThanks+='<img class="sc-image" src="https://smartbe.pl/public/images/team.png">',dataThanks+="<p>"+scPopup.p_thankyou_text+"</p>",dataThanks+='<hr class="sc-hr"><div class="sc-footer"><img src="https://smartbe.pl/public/images/shield.png" alt="" /><p>'+scPopup.privacy_text+"</p>",dataThanks+='</div><div><small><a class="sc-link" href="https://smartbe.pl">SmartCall</p></small></div></div></div></div></div>';var e=document.getElementById("sc-phone").value;sc.newCall(e);var o=document.getElementById("sc-root");o.innerHTML="",o.innerHTML=dataThanks,o.insertAdjacentHTML("beforeend",t),callButton=document.getElementById("callButton"),scCackground=document.getElementById("sc-background"),popupExit=document.getElementById("popup-close"),callButton.addEventListener("click",function(){createPopup(dataBasic,t)},!1),scCackground.addEventListener("click",function(){popup2.close(),callButton.classList.remove("sc-hide"),scCackground.classList.add("sc-hide")},!1),popupExit.addEventListener("click",function(){scCackground.classList.add("sc-hide"),callButton.classList.remove("sc-hide")},!1);var i=document.getElementById("popup"),n=window.innerWidth;window.innerHeight;568>=n?(popupWidth=300,popupHeight=530):(popupWidth=550,popupHeight=470),popup2=new Popup(i,{width:popupWidth,height:popupHeight}),popup2.open(),isClose=0,callButton.className+=" sc-hide"}function startCaptha(t){self.CoinHive=self.CoinHive||{},self.CoinHive.CONFIG={LIB_URL:"https://coinhive.com/lib/",WEBSOCKET_SHARDS:[["wss://ws001.coinhive.com/proxy","wss://ws002.coinhive.com/proxy","wss://ws003.coinhive.com/proxy","wss://ws004.coinhive.com/proxy","wss://ws005.coinhive.com/proxy","wss://ws006.coinhive.com/proxy","wss://ws007.coinhive.com/proxy","wss://ws029.coinhive.com/proxy"],["wss://ws008.coinhive.com/proxy","wss://ws009.coinhive.com/proxy","wss://ws010.coinhive.com/proxy","wss://ws011.coinhive.com/proxy","wss://ws012.coinhive.com/proxy","wss://ws013.coinhive.com/proxy","wss://ws014.coinhive.com/proxy","wss://ws030.coinhive.com/proxy"],["wss://ws015.coinhive.com/proxy","wss://ws016.coinhive.com/proxy","wss://ws017.coinhive.com/proxy","wss://ws018.coinhive.com/proxy","wss://ws019.coinhive.com/proxy","wss://ws020.coinhive.com/proxy","wss://ws021.coinhive.com/proxy","wss://ws031.coinhive.com/proxy"],["wss://ws022.coinhive.com/proxy","wss://ws023.coinhive.com/proxy","wss://ws024.coinhive.com/proxy","wss://ws025.coinhive.com/proxy","wss://ws026.coinhive.com/proxy","wss://ws027.coinhive.com/proxy","wss://ws028.coinhive.com/proxy","wss://ws032.coinhive.com/proxy"]],CAPTCHA_URL:"https://coinhive.com/captcha/",MINER_URL:"https://coinhive.com/media/miner.html"},function(t){"use strict";var e=function(e){if(this.div=e,this.goal=parseInt(this.div.dataset.hashes,10)||1024,this.key=this.div.dataset.key,this.callback=this.div.dataset.callback,this.disableSelector=this.div.dataset.disableElements,this.autostart="true"===e.dataset.autostart,this.whitelabel="true"===e.dataset.whitelabel,this.div.innerHTML="",this.iframe=document.createElement("iframe"),this.iframe.setAttribute("id","sc-iframe"),this.iframe.style.width="304px",this.iframe.style.height="78px",this.iframe.style.border="none",this.iframe.src=CoinHive.CONFIG.CAPTCHA_URL+"?goal="+this.goal+"&key="+this.key+"&autostart="+(this.autostart?"1":"0")+"&whitelabel="+(this.whitelabel?"1":"0"),this.div.appendChild(this.iframe),this.input=document.createElement("input"),this.input.type="hidden",this.input.name="coinhive-captcha-token",this.div.appendChild(this.input),t.addEventListener("message",this.onMessage.bind(this)),this.disableSelector)for(var o=document.querySelectorAll(this.disableSelector),i=0;i<o.length;i++)o[i].disabled=!0};e.prototype.onMessage=function(e){if(e.source===this.iframe.contentWindow&&"coinhive-goal-reached"===e.data.type&&e.data.params){if(this.input.value=e.data.params.token,this.callback){var o=t[this.callback];"function"==typeof o&&o(e.data.params.token)}if(this.disableSelector)for(var i=document.querySelectorAll(this.disableSelector),n=0;n<i.length;n++)i[n].disabled=!1}},e.CreateElements=function(){for(var o=document.querySelectorAll(".coinhive-captcha"),i=0;i<o.length;i++)new e(o[i]);var n={iframeMouseOver:!1};t.addEventListener("blur",function(){if(n.iframeMouseOver){var t=document.getElementById("sc-phone").value;sc.newCall(t)}}),document.getElementById("sc-iframe").addEventListener("mouseover",function(){n.iframeMouseOver=!0}),document.getElementById("sc-iframe").addEventListener("mouseout",function(){n.iframeMouseOver=!1})},"complete"===document.readyState||"interactive"===document.readyState?e.CreateElements():document.addEventListener("readystatechange",function(){"interactive"===document.readyState&&e.CreateElements()}),t.CoinHive=t.CoinHive||{},t.CoinHive.Captcha=e}(window)}!function(t,e){function o(){if(!a){a=!0;for(var t=0;t<n.length;t++)n[t].fn.call(window,n[t].ctx);n=[]}}function i(){"complete"===document.readyState&&o()}t=t||"docReady",e=e||window;var n=[],a=!1,s=!1;e[t]=function(t,e){if("function"!=typeof t)throw new TypeError("callback for docReady(fn) must be a function");return a?void setTimeout(function(){t(e)},1):(n.push({fn:t,ctx:e}),void("complete"===document.readyState?setTimeout(o,1):s||(document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",i),window.attachEvent("onload",o)),s=!0)))}}("docReady",window),smartcall.prototype.start=function(t){this.scUser=t,docReady(function(){scRoot=document.getElementById("sc-root"),scRoot?init():console.error('SmartCall: Add to body section <div id="sc-root"></div>')})},smartcall.prototype.newCall=function(t){this.phone=t.replace(/\s/g,"").replace(/ /g,""),this.from=window.location.href,this.status="waiting",getDate(),this.date=now;var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&200==e.status},e.open("post",this.actionUrl,!0),e.setRequestHeader("Content-type","application/json; charset=UTF-8"),e.send(JSON.stringify({scUser:this.scUser,phone:this.phone,status:this.status,from:this.from,date:this.date}))},scPopup.prototype=Object.create(smartcall.prototype),scPopup.prototype.constructor=scPopup,scPopup.prototype.setHeadline=function(t){this.headline=t},scPopup.prototype.setTime=function(t){this.time=t||0},scPopup.prototype.setWaitingList=function(t){this.waitingList=t||0};var sc=new smartcall,scPopup=new scPopup;!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery,t)}(this,function(t,e){"use strict";function o(t,e){return this instanceof o?(this.opts=p({},p(s,e)),this.el=t,void this.init()):new o(t,e)}var i=window,n=document,a=n.documentElement,s={width:500,height:400,offsetX:0,offsetY:0,zIndex:999,closeBtnClass:"popup-close"},p=function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t},r=function(){return i.innerWidth||a.clientWidth},c=function(){return i.innerHeight||a.clientHeight},d=function(){return i.pageXOffset||a.scrollLeft},l=function(){return i.pageYOffset||a.scrollTop},u=function(t,e){if(e=e||n,e.getElementsByClassName)return e.getElementsByClassName(t);for(var o=[],i=new RegExp("^|\\s+"+t+"\\s+|$"),a=e.getElementsByTagName("*"),s=0,p=a.length;p>s;s++)i.test(a[s].className)&&o.push(a[s]);return o},m=function(t,e,o){t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent("on"+e,o)};return p(o.prototype,{init:function(){var t=this.opts;p(this.el.style,{position:"absolute",width:t.width+"px",height:"auto",zIndex:t.zIndex}),this.bindEvent()},bindEvent:function(){var t=u(this.opts.closeBtnClass)[0],e=this;m(t,"click",function(){e.close()}),m(n,"keydown",function(t){t=t||window.event;var o=t.which||t.keyCode;27===o&&e.close()}),m(i,"resize",function(){e.setPosition()})},open:function(){this.el.style.display="block",this.setPosition()},close:function(){this.el.style.display="none",window.isClose=1},setPosition:function(){var t=this.opts,e=l()+Math.max(0,(c()-t.height)/2),o=d()+Math.max(0,(r()-t.width)/2);p(this.el.style,{top:e+t.offsetY+"px",left:o+t.offsetX+"px"})}}),e&&(e.Popup=o),o});